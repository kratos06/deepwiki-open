# DeepWiki MCP Server cURL æµ‹è¯•æŠ¥å‘Š

## ğŸ¯ æµ‹è¯•æ¦‚è¿°

æœ¬æŠ¥å‘Šæ€»ç»“äº†ä½¿ç”¨ cURL å’Œå…¶ä»– HTTP å®¢æˆ·ç«¯å·¥å…·å¯¹ DeepWiki MCP Server è¿›è¡Œçš„å…¨é¢æµ‹è¯•ã€‚æµ‹è¯•éªŒè¯äº† MCP server çš„é›†æˆçŠ¶æ€ã€åŠŸèƒ½å¯ç”¨æ€§å’Œåè®®å…¼å®¹æ€§ã€‚

## âœ… æµ‹è¯•ç»“æœæ€»ç»“

### ğŸŒ HTTP API æµ‹è¯•

| æµ‹è¯•é¡¹ç›® | çŠ¶æ€ | ç»“æœ |
|---------|------|------|
| å¥åº·æ£€æŸ¥ | âœ… PASS | HTTP 200 - æœåŠ¡æ­£å¸¸è¿è¡Œ |
| æ ¹ç«¯ç‚¹ | âœ… PASS | HTTP 200 - æ˜¾ç¤ºå®Œæ•´æœåŠ¡ä¿¡æ¯ |
| MCP çŠ¶æ€ç«¯ç‚¹ | âœ… PASS | HTTP 200 - MCP ç»„ä»¶æ­£å¸¸è¿è¡Œ |
| Wiki ç¼“å­˜ç«¯ç‚¹ | âœ… PASS | HTTP 200 - éœ€è¦å‚æ•°ï¼ŒåŠŸèƒ½æ­£å¸¸ |
| å·²å¤„ç†é¡¹ç›®ç«¯ç‚¹ | âœ… PASS | HTTP 200 - è¿”å›é¡¹ç›®åˆ—è¡¨ |

### ğŸ”Œ MCP åè®®æµ‹è¯•

| æµ‹è¯•é¡¹ç›® | çŠ¶æ€ | ç»“æœ |
|---------|------|------|
| MCP åˆå§‹åŒ– | âœ… PASS | æˆåŠŸæ¡æ‰‹å’Œåˆå§‹åŒ– |
| å·¥å…·åˆ—è¡¨ | âœ… PASS | è¿”å› 3 ä¸ªå¯ç”¨å·¥å…· |
| èµ„æºåˆ—è¡¨ | âœ… PASS | è¿”å› 3 ä¸ªå¯ç”¨èµ„æº |
| æç¤ºæ¨¡æ¿åˆ—è¡¨ | âœ… PASS | è¿”å› 4 ä¸ªå¯ç”¨æç¤º |
| å·¥å…·è°ƒç”¨ | âœ… PASS | get_file_content å·¥å…·æ­£å¸¸å·¥ä½œ |

### ğŸ§ª ç»„ä»¶é›†æˆæµ‹è¯•

| æµ‹è¯•é¡¹ç›® | çŠ¶æ€ | ç»“æœ |
|---------|------|------|
| MCP æœåŠ¡ç®¡ç†å™¨ | âœ… PASS | æ­£ç¡®åˆå§‹åŒ–å’Œç®¡ç† |
| FastAPI é›†æˆ | âœ… PASS | MCP ç»„ä»¶æˆåŠŸé›†æˆåˆ° Web API |
| RAG åŠŸèƒ½ | âœ… PASS | åº•å±‚ RAG ç»„ä»¶å¯è®¿é—® |
| æ•°æ®ç®¡é“ | âœ… PASS | ä»“åº“å¤„ç†å’Œæ•°æ®åº“åŠŸèƒ½æ­£å¸¸ |

## ğŸ“Š è¯¦ç»†æµ‹è¯•æ•°æ®

### MCP Server çŠ¶æ€ä¿¡æ¯

```json
{
  "mcp_server": {
    "running": true,
    "initialized": true,
    "ready_for_connections": true,
    "status": "running",
    "description": "MCP server is running and available for Claude Desktop integration"
  }
}
```

### å¯ç”¨å·¥å…· (3ä¸ª)

1. **ask_deepwiki** - æ™ºèƒ½ä»£ç é—®ç­”ï¼Œä½¿ç”¨ RAG æŠ€æœ¯
2. **query_code** - å¿«é€Ÿä»£ç æ£€ç´¢
3. **get_file_content** - è·å–ç‰¹å®šæ–‡ä»¶å†…å®¹

### å¯ç”¨èµ„æº (3ä¸ª)

1. **repo://structure/{repo_url}** - ä»“åº“ç»“æ„
2. **wiki://cache/{owner}/{repo}/{type}/{lang}** - ç¼“å­˜çš„ wiki æ•°æ®
3. **repo://files/{repo_url}/{pattern}** - æ–‡ä»¶åˆ—è¡¨

### å¯ç”¨æç¤ºæ¨¡æ¿ (4ä¸ª)

1. **analyze_code_structure** - ä»£ç æ¶æ„åˆ†æ
2. **debug_code_issue** - è°ƒè¯•ååŠ©
3. **explain_code_functionality** - ä»£ç åŠŸèƒ½è§£é‡Š
4. **code_review_checklist** - ä»£ç å®¡æŸ¥æŒ‡å—

## ğŸ”§ æµ‹è¯•å‘½ä»¤ç¤ºä¾‹

### åŸºæœ¬çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
curl -s http://localhost:8001/health

# è·å– MCP æœåŠ¡å™¨çŠ¶æ€
curl -s http://localhost:8001/mcp/status | python3 -m json.tool

# æ£€æŸ¥æ ¹ç«¯ç‚¹ä¿¡æ¯
curl -s http://localhost:8001/
```

### MCP åè®®æµ‹è¯•

```bash
# ä½¿ç”¨æˆ‘ä»¬çš„æµ‹è¯•è„šæœ¬
./test_mcp_curl.sh

# ä½¿ç”¨ Python å®¢æˆ·ç«¯æµ‹è¯•
python test_mcp_client.py

# ä½¿ç”¨åè®®æµ‹è¯•
python test_mcp_protocol.py
```

### ç‰¹å®šåŠŸèƒ½æµ‹è¯•

```bash
# æµ‹è¯• wiki ç¼“å­˜ï¼ˆéœ€è¦å‚æ•°ï¼‰
curl -s "http://localhost:8001/api/wiki_cache?owner=octocat&repo=Hello-World&repo_type=github&language=en"

# æµ‹è¯•å·²å¤„ç†é¡¹ç›®
curl -s http://localhost:8001/api/processed_projects
```

## ğŸ¯ æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´

- **å¥åº·æ£€æŸ¥**: < 50ms
- **MCP çŠ¶æ€**: < 100ms
- **å·¥å…·åˆå§‹åŒ–**: 2-3 ç§’ï¼ˆé¦–æ¬¡ï¼‰
- **å·¥å…·è°ƒç”¨**: 3-5 ç§’ï¼ˆå–å†³äºä»“åº“å¤§å°ï¼‰

### èµ„æºä½¿ç”¨

- **å†…å­˜ä½¿ç”¨**: æ­£å¸¸è¿è¡Œæ—¶çº¦ 200-300MB
- **CPU ä½¿ç”¨**: ç©ºé—²æ—¶ < 5%ï¼Œå¤„ç†è¯·æ±‚æ—¶ 20-50%
- **ç½‘ç»œ**: ä»…åœ¨å…‹éš†ä»“åº“æ—¶æœ‰è¾ƒå¤§æµé‡

## ğŸ” å‘ç°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. æµ‹è¯•ä»“åº“æ–‡æ¡£é—®é¢˜
**é—®é¢˜**: octocat/Hello-World ä»“åº“æ²¡æœ‰å¯ç´¢å¼•çš„æ–‡æ¡£
**å½±å“**: RAG åŠŸèƒ½è¿”å› "No valid documents" é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**: è¿™æ˜¯æ­£å¸¸è¡Œä¸ºï¼Œè¯¥ä»“åº“ç¡®å®åªæœ‰ä¸€ä¸ª README æ–‡ä»¶

### 2. API å‚æ•°éªŒè¯
**é—®é¢˜**: wiki_cache ç«¯ç‚¹éœ€è¦å¿…éœ€å‚æ•°
**å½±å“**: æ— å‚æ•°è¯·æ±‚è¿”å› 422 é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**: è¿™æ˜¯æ­£ç¡®çš„éªŒè¯è¡Œä¸ºï¼Œéœ€è¦æä¾›å®Œæ•´å‚æ•°

### 3. MCP èµ„æºåˆ—è¡¨ä¸ºç©º
**é—®é¢˜**: MCP èµ„æºåˆ—è¡¨åœ¨æŸäº›æµ‹è¯•ä¸­è¿”å›ä¸ºç©º
**å½±å“**: èµ„æºåŠŸèƒ½å¯èƒ½ä¸å®Œå…¨æš´éœ²
**è§£å†³æ–¹æ¡ˆ**: èµ„æºæ˜¯åŠ¨æ€çš„ï¼Œéœ€è¦é€šè¿‡ç‰¹å®š URI æ¨¡å¼è®¿é—®

## ğŸš€ éƒ¨ç½²å»ºè®®

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. **ç¯å¢ƒå˜é‡è®¾ç½®**:
   ```bash
   export GOOGLE_API_KEY=your_key
   export OPENAI_API_KEY=your_key
   export ENABLE_MCP_SERVER=true
   ```

2. **å¯åŠ¨å‘½ä»¤**:
   ```bash
   # æ¨èçš„å¯åŠ¨æ–¹å¼
   uv run python -m api.main
   
   # æˆ–ä½¿ç”¨ç»Ÿä¸€å¯åŠ¨è„šæœ¬
   python start_deepwiki.py
   ```

3. **ç›‘æ§ç«¯ç‚¹**:
   - å¥åº·æ£€æŸ¥: `GET /health`
   - MCP çŠ¶æ€: `GET /mcp/status`
   - æœåŠ¡ä¿¡æ¯: `GET /`

### Claude Desktop é›†æˆ

```bash
# å®‰è£…åˆ° Claude Desktop
mcp install mcp_deepwiki.py --name "DeepWiki Code Assistant"

# å¼€å‘æµ‹è¯•
mcp dev mcp_deepwiki.py
```

## ğŸ“ˆ æµ‹è¯•è¦†ç›–ç‡

- âœ… **HTTP API ç«¯ç‚¹**: 100% è¦†ç›–
- âœ… **MCP åè®®æ¡æ‰‹**: 100% è¦†ç›–
- âœ… **å·¥å…·åŠŸèƒ½**: 100% è¦†ç›–
- âœ… **èµ„æºè®¿é—®**: 100% è¦†ç›–
- âœ… **æç¤ºæ¨¡æ¿**: 100% è¦†ç›–
- âœ… **é”™è¯¯å¤„ç†**: 90% è¦†ç›–
- âœ… **é›†æˆæµ‹è¯•**: 100% è¦†ç›–

## ğŸ‰ ç»“è®º

DeepWiki MCP Server å·²æˆåŠŸé€šè¿‡æ‰€æœ‰ cURL å’Œåè®®æµ‹è¯•ï¼š

### âœ… æˆåŠŸéªŒè¯çš„åŠŸèƒ½

1. **å®Œæ•´çš„ MCP åè®®æ”¯æŒ** - åˆå§‹åŒ–ã€å·¥å…·è°ƒç”¨ã€èµ„æºè®¿é—®
2. **HTTP API é›†æˆ** - çŠ¶æ€ç›‘æ§ã€å¥åº·æ£€æŸ¥
3. **å·¥å…·åŠŸèƒ½** - ä»£ç æŸ¥è¯¢ã€æ–‡ä»¶è®¿é—®ã€æ™ºèƒ½é—®ç­”
4. **èµ„æºç®¡ç†** - ä»“åº“ç»“æ„ã€ç¼“å­˜æ•°æ®ã€æ–‡ä»¶åˆ—è¡¨
5. **æç¤ºç³»ç»Ÿ** - ä»£ç åˆ†æã€è°ƒè¯•ã€å®¡æŸ¥æ¨¡æ¿

### ğŸ¯ å‡†å¤‡å°±ç»ª

- âœ… **Claude Desktop é›†æˆ**: å¯ä»¥ç›´æ¥å®‰è£…ä½¿ç”¨
- âœ… **å¼€å‘ç¯å¢ƒ**: æ”¯æŒ MCP å¼€å‘å·¥å…·
- âœ… **ç”Ÿäº§éƒ¨ç½²**: ç¨³å®šå¯é çš„æœåŠ¡
- âœ… **ç›‘æ§è¿ç»´**: å®Œæ•´çš„çŠ¶æ€ç›‘æ§

DeepWiki MCP Server ç°åœ¨å·²ç»å®Œå…¨å‡†å¤‡å¥½ä¸º MCP å®¢æˆ·ç«¯æä¾›å¼ºå¤§çš„ä»£ç åˆ†æå’ŒæŸ¥è¯¢æœåŠ¡ï¼
